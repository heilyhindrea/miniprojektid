<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="js/jquery.js"></script>
        <script src="js/jquery-jtemplates.js"></script>
        <script>
            $(document).ready(function(){
                var data = {
                        name: 'User list',
                        list_id: 4,
                        users: [
                                {id: 1, name: 'Anne', age: 22, mail: 'anne@domain.com'},
                                {id: 2, name: 'Amelie', age: 24, mail: 'amelie@domain.com'},
                                {id: 3, name: 'Polly', age: 18, mail: 'polly@domain.com'},
                                {id: 4, name: 'Alice', age: 26, mail: 'alice@domain.com'},
                                {id: 5, name: 'Martha', age: 25, mail: 'martha@domain.com'}
                        ]
                };

                // Localize data
               
                var lang = {
                        en : {
                            'id': 'ID',
                            'name': 'Name',
                            'mail': 'E-Mail',
                            'language': 'english'
                         },
                        pl : {
                            'id': 'ID',
                            'name': 'Nazwisko',
                            'mail': 'Adres e-mail',
                            'language': 'polski'
                         }
                };
                
                        // attach the template
			$(".jTemplatesTest").setTemplateElement("template");
			
			// set parameter 'lang'
			$("#result1").setParam('lang', lang.en);
			$("#result2").setParam('lang', lang.pl);
			
			// process the template
			$(".jTemplatesTest").processTemplate(data);
               

            });
        </script>
    </head>
    
    <body>
        
        <textarea id="template" style="display:none">
		<div>{$T.name}: {$T.list_id} [{$P.lang.language}]</div>
		<table>
			<thead style="font-weight: bold">
				<tr>
					<td>{$P.lang['name']}</td>
					<td>{$P.lang['mail']}</td>
				</tr>
			</thead>
			<tbody>
				{#foreach $T.users as record}
				<tr>
						<td>{$T.record.name}</td>
						<td>{$T.record.mail}</td>
				</tr>
				{#/for}
			</tbody>
		</table>
	
        </textarea>

        <div id="result1" class="jTemplatesTest"></div>
        <div id="result2" class="jTemplatesTest"></div>
    
    </body>
    
</html>
